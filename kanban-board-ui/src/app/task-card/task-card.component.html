<div class="my-2 ">
    <mat-card class="rounded-sm p-4 " >
        <mat-card-title>
            <div class="flex justify-between items-center">
                <div>{{task?.taskName | titlecase}}</div>
                <div>
                    <button mat-icon-button [matMenuTriggerFor]="taskMenu" >
                        <mat-icon class="w-fit">more_horiz</mat-icon>
                      </button>
                      <mat-menu #taskMenu="matMenu" >
                        <button type="button" mat-menu-item (click)="openDialog()">
                            <mat-icon>edit</mat-icon>
                            <span>Edit Task</span>
                          </button>
                        <button type="button" mat-menu-item (click)="deleteTask()">
                          <mat-icon>delete</mat-icon>
                          <span>Delete Task</span>
                        </button>
                      </mat-menu>
                </div>
            </div>
        </mat-card-title>
        <mat-card-subtitle class="flex flex-wrap">{{task?.taskDescription}}</mat-card-subtitle>
        <mat-card-content style="padding: 0;" >
            <div class="flex flex-row-reverse justify-between w-full items-center">
              <div class="flex flex-row justify-center items-center space-x-2">
                <div class="flex flex-row-reverse justify-center items-center">
                  <mat-chip-row class="ml-1 parent-div" *ngFor="let member of assignedTo.value">
                    {{member.userName.split(' ')[0][0]}}
                    <span class="child-text"> &nbsp;&nbsp;</span> 
                    <button matChipRemove class="child-button hidden" (click)="removeMemberFromTask(member.userId)">
                      <mat-icon>cancel</mat-icon>
                    </button>
                  </mat-chip-row>
                </div>
  
                <div>
                  <button mat-icon-button [matMenuTriggerFor]="userMenu" >
                      <mat-icon class="w-fit">person_add</mat-icon>
                    </button>
                    <mat-menu #userMenu="matMenu" >
                      <button *ngFor="let member of members" type="button" mat-menu-item (click)="assignMemberToTask(member.userId)">
                        <mat-icon>person</mat-icon>
                        <span>{{member.userName}}</span>
                      </button>
                    </mat-menu>
                </div>
              </div>
          
                <div  class="bg-stone-50 rounded-xl p-1">
                  <mat-icon  [className]="priority_icon" >priority_high</mat-icon>
              </div>

            </div>
        </mat-card-content>
        <mat-card-subtitle >Deadline : <span class="text-red-800"> {{task?.deadlineDateAndTime | date:'shortDate' }}</span></mat-card-subtitle>

    </mat-card>
</div>
